<div className="snippet-body">
  <div className="snippet-body"></div>

  <div [formGroup]="myForm">
    <div class="row">
      <div class="col-md-12 col-lg-3">
        <label for="category">
          <mat-icon>category</mat-icon>
          Filtrar por categoría:</label
        >

        <ng-select
          id="category"
          formControlName="category"
          [items]="categories"
          bindValue="id"
          bindLabel="name"
          placeholder=""
          [multiple]="false"
          [searchable]="true"
          [clearable]="true"
          (change)="onCategorySelected($event)"
          class="my-select form-select"
          aria-label="Default select example "
        >
        </ng-select>
      </div>

      <div class="col-md-12 col-lg-3">
        <label for="category">
          <mat-icon>category</mat-icon>
          Filtrar por Marca:</label
        >

        <ng-select
          id="marca"
          formControlName="marca"
          [items]="marca"
          bindValue="id"
          bindLabel="name"
          placeholder=""
          [multiple]="false"
          [searchable]="true"
          [clearable]="true"
          (change)="onBrandSelected($event)"
          class="my-select form-select"
          aria-label="Default select example "
        >
        </ng-select>
      </div>
    </div>
  </div>
</div>

<br />

<nav aria-label="Page navigation">
  <ul class="pagination justify-content-center">
    <li class="page-item" [class.disabled]="page === 1">
      <a
        class="page-link"
        [routerLink]="['.']"
        [queryParams]="{ page: page - 1 }"
        aria-label="Previous"
      >
        <span aria-hidden="true">&laquo;</span>
        <span class="sr-only">Previous</span>
      </a>
    </li>
    <li
      class="page-item"
      *ngFor="let p of getPageRange(page, totalpage)"
      [class.active]="p === page"
    >
      <a class="page-link" [routerLink]="['.']" [queryParams]="{ page: p }">{{
        p
      }}</a>
    </li>
    <li class="page-item" [class.disabled]="page === totalpage">
      <a
        class="page-link"
        [routerLink]="['.']"
        [queryParams]="{ page: page + 1 }"
        aria-label="Next"
      >
        <span aria-hidden="true">&raquo;</span>
        <span class="sr-only">Next</span>
      </a>
    </li>
  </ul>

  <div class="row">
    <div class="row" *ngIf="motorcycleparts.length > 0"></div>
    <div
      class="col-12 col-sm-6 col-md-4 col-lg-4"
      *ngFor="let motorcyclepart of motorcycleparts; trackBy: trackByFn"
    >
      <div class="card">
        <img
          [src]="'http://127.0.0.1:8000/storage/images/' + motorcyclepart.image"
          alt="{{ motorcyclepart.name }}"
          style="max-width: 200%; height: 300px"
        />

        <div class="card-body">
          <h5 class="card-title">{{ motorcyclepart.name }}</h5>
          -
          <p class="card-text">cantidad: {{ motorcyclepart.quantity }}</p>
          <p class="card-text">
            Precio de venta: {{ motorcyclepart.sale_price | currency }}
          </p>
          <p class="card-text">
            Marca:
            <td>{{ motorcyclepart.brand.name }}</td>
          </p>

          <!-- <p class="card-text">Marca: {{ motorcyclepart.brand_name }}</p> -->

          <button type="button" class="btn btn-sm"
          [class.btn-success]="!motorcyclepart.addedToCart"
          [class.btn-secondary]="motorcyclepart.addedToCart"
          [disabled]="motorcyclepart.addedToCart"
          (click)="addToCart(motorcyclepart)">
          <ng-container *ngIf="!motorcyclepart.addedToCart; else addedToCartLabel">
            Agregar al carro
          </ng-container>
          <ng-template #addedToCartLabel>
            Agregado al carro
          </ng-template>
        </button>
        
          <button type="button" class="btn btn-primary btn-sm m-r-5">
            Detalle
          </button>
        </div>
      </div>
      <br />
    </div>
    <div *ngIf="motorcycleparts.length === 0">
      No hay resultados para esta búsqueda
    </div>
  </div>
</nav>
